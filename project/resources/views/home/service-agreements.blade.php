<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<meta charset="utf-8" />
<title>Startshredding | Sercice Agreement</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no" />
<link rel="icon" type="image/png" href="/shop_assets/images/favicon/android-icon-192x192.png" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta content="" name="description" />
<meta content="" name="author" />
<link href="{{ URL::asset('new_assets/assets/plugins/pace/pace-theme-flash.css')}}" rel="stylesheet" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/fontawesome.min.css" rel="stylesheet" type="text/css" />
<link href="{{ URL::asset('new_assets/assets/plugins/jquery-scrollbar/jquery.scrollbar.css')}}" rel="stylesheet"
      type="text/css" media="screen" />
<link href="{{ URL::asset('new_assets/assets/plugins/select2/css/select2.min.css')}}" rel="stylesheet" type="text/css"
      media="screen" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/switchery/0.8.2/switchery.css" rel="stylesheet" type="text/css" media="screen" />
<link href="{{ URL::asset('new_assets/assets/plugins/nvd3/nv.d3.min.css')}}" rel="stylesheet" type="text/css"
      media="screen" />
<link href="{{ URL::asset('new_assets/assets/plugins/mapplic/css/mapplic.css')}}" rel="stylesheet" type="text/css" />
<link href="{{ URL::asset('new_assets/assets/plugins/rickshaw/rickshaw.min.css')}}" rel="stylesheet" type="text/css" />
<link href="{{ URL::asset('new_assets/assets/plugins/bootstrap-datepicker/css/datepicker3.css')}}" rel="stylesheet"
      type="text/css" media="screen">
<link href="https://cdn.jsdelivr.net/npm/datatables-bootstrap@0.0.1/css/dataTables.bootstrap.min.css"  rel="stylesheet" type="text/css" />
<link href="{{ URL::asset('new_assets/assets/plugins/jquery-datatable/extensions/FixedColumns/css/dataTables.fixedColumns.min.css')}}"
        rel="stylesheet" type="text/css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/datatables-responsive/3.0.3/dataTables.responsive.js" rel="stylesheet" type="text/css" media="screen" />
<link href="{{ URL::asset('new_assets/assets/plugins/jquery-metrojs/MetroJs.css')}}" rel="stylesheet" type="text/css"
      media="screen" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet" type="text/css">
<link href="{{ URL::asset('new_assets/pages/css/pages.css')}}" class="main-stylesheet" rel="stylesheet"
      type="text/css" />
<link href="{{ URL::asset('new_assets/assets/plugins/pace/pace-theme-flash.css')}}" rel="stylesheet" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" type="text/css" media="screen" />
<link href="{{ URL::asset('/home_assets/images/form-wizard/pages.css') }}" rel="stylesheet" type="text/css" />
<link href="{{ URL::asset('/home_assets/images/form-wizard/style.css') }}" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.3.4/signature_pad.min.js"></script>
<style>
   #signature-pad 
   {
    width: 100%;
    max-width: 600px;
    height: 200px;
    border: 1px solid black;
    display: block;
    }
    .top-right1 {
        position: absolute !important;
        /* top: 1px; */
        right: 0;
    }

    .font-clr {
        color: #B6B6B6;
    }
    .page-sidebar
    {
        background-color:#000080;
    }
    .table thead {
        background-color:#000080;
    }
    .addcreadit-btn {
        background-color: #000080 !important;
        border-color: #000080 !important;
    }
    .icon-thumbnail {
        background:#ff2800;
    }

    .main-header-center .custom-padding .form-control {
    padding: 0.2rem 1rem;
  }

  .input-group-text{
       line-height: 21px;
  }

   #signature-pad 
   {
      width: 100%;
      max-width: 600px;
      height: 200px;
      border: 1px solid black;
      display: block;
  }

</style>

<script src="{{ URL::asset('/new_assets/assets/plugins/popper/umd/popper.min.js')}}" type="text/javascript"></script>
</head>

<body class="fixed-header horizontal-menu horizontal-app-menu dashboard">
  <!-- START HEADER -->
  <div class="header">
    <div class="top-bar">
      <div class="container-fluid">
        <div class="header-inner header-md-height">
          <a href="#" class="btn-link toggle-sidebar d-lg-none header-icon sm-p-l-0 btn-icon-link"
            data-toggle="horizontal-menu">
            <i class="pg-icon">menu</i>
          </a>
           <div class="d-inline-flex main-header-center">
            <div class="brand inline align-self-end">
              <img src="/home_assets/images/form-wizard/logo.png" alt="logo" data-src="/home_assets/images/form-wizard/logo.png"
              data-src-retina="/home_assets/images/form-wizard/logo.png" width="194" height="40">
            </div>
            <div class="input-group w-100 p-2 d-lg-inline-block d-none custom-padding"> 
              <input type="text" class="form-control" placeholder="Search here for an Invoice or Job#" style="font-size:12px;"> 
              <div class="input-group-text btn"><i class="fa fa-search" aria-hidden="true"></i></div> 
             </div>
          </div>
          <div class="d-flex align-items-center">
            <!-- END User Info-->
          </div>
        </div>
      </div>
    </div>
    <!--End top-bar-->
    <!--End Main-menu-->
  </div>
  <div class="page-container ">
    <!-- START PAGE CONTENT WRAPPER -->
    <div class="page-content-wrapper ">
      <!-- START PAGE CONTENT -->
      <div class="content sm-gutter">
        <!-- START JUMBOTRON -->
        <div data-pages="parallax">
          <div class="container-fluid">
            <div class="inner">
              <!-- START BREADCRUMB -->
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active">Service Agreement</li>
              </ol>
            </div>
          </div>
        </div>
        <!-- END JUMBOTRON -->
          <!-- START CONTAINER FLUID -->
          <div class=" container-fluid">

                      <div id="rootwizard" class="m-t-10">
                      <form id="wizard-form" action="{{ route('form.wizard.submit') }}" method="POST">   
                       @csrf
                      <!-- Nav tabs -->
                      <ul class="nav nav-tabs nav-tabs-linetriangle nav-tabs-separator nav-stack-sm" role="tablist" id="top">
                        <li class="nav-item">
                          <a class="active d-flex align-items-center" data-toggle="tab" href="#tab1" data-target="#tab1" role="tab"><i class="icon-user fs-14 tab-icon"></i> <span>Client information</span></a>
                        </li>
                        <li class="nav-item">
                          <a class="d-flex align-items-center" data-toggle="tab" href="#tab2" data-target="#tab2" role="tab"><i class="icon-file-text1 fs-14 tab-icon"></i> <span>Terms and Conditions</span></a>
                        </li>
                        <li class="nav-item">
                          <a class="d-flex align-items-center" data-toggle="tab" href="#tab3" data-target="#tab3" role="tab"><i class="icon-credit-card1 fs-14 tab-icon"></i> <span>Credit card information</span></a>
                        </li>
                      </ul>
                      <!-- Tab panes -->
                      <div class="tab-content">
                      @if (session('success'))
                      <div class="alert alert-success">{{ session('success') }}</div>  
                      @endif

                      @if ($errors->any())
                      <div class="alert alert-danger">
                          <ul>
                              @foreach ($errors->all() as $error)
                                  <li>{{ $error }}</li>
                              @endforeach
                          </ul>
                      </div>
                      @endif


                        <div class="tab-pane padding-20 active" id="tab1">
                          <div class="row row-same-height">
                            <div class="client-info sm-m-b-3">
                              <div class="pl-4 pr-4 row-same-height">
                                <div class="row sm-p-0">
                                  <div class="main-title mt-4 ml-1">
                                    <h3 class="font-montserrat bold fs-16 bold all-caps no-margin">Client info</h3>
                                  </div>
                                </div>
                                <div class="row clearfix mb-1 sm-p-0 mt-4" >
                                    <div class="col-md-6">
                                      <div class="form-group form-group-default required">
                                        <label>Company Name</label>
                                         <input type="hidden"  name="order_id"  value="<?php echo $order->id?>" >
                                        <input type="text" class="form-control client_info"  name="company_name" id="companyName" placeholder="Company Name" value="<?php echo ($user->business_name)?$user->business_name:old('company_name')?>" >
                                           @error('company_name') <div class="text-danger">{{ $message }}</div> @enderror
                                       </div>
                                    </div>
                                    <div class="col-md-6">
                                      <div class="form-group form-group-default required">
                                        <label>Contact Name</label>
                                        <input type="text" class="form-control client_info" id="contactName" name="contact_name" placeholder="Contact Name" value="<?php echo ($order->customer_name)?$order->customer_name:old('contact_name')?>" >
                                         @error('contact_name') <div class="text-danger">{{ $message }}</div> @enderror
                                       </div>
                                    </div>
                                  </div>  
                                 <div class="row clearfix mb-2">
                                  <div class="col-md-6">
                                    <div class="form-group form-group-default required">
                                      <label>Phone</label>
                                      <input id="phone" type="tel" pattern="\d{3}\-\d{3}\-\d{4}" name="phone_number" class="form-control telephone client_info" data-mask="(999)-999-9999" placeholder="(999)-999-9999" value="<?php echo ($order->customer_phone)?$order->customer_phone:old('phone_number')?>"   />
                                      @error('phone_number') <div class="text-danger">{{ $message }}</div> @enderror
                                      <span id="phone-error" style="color: red;"></span>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group form-group-default">
                                      <label>Email</label>
                                      <input type="email" class="form-control"  name="email" id="email" value="<?php echo ($order->customer_email)?$order->customer_email:old('email')?>"  placeholder="joan@lifeforcephysio.com">
                                      @error('email') <div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                </div>
                               <p class="font-montserrat bold fs-16 bold mt-3 mb-3">Billing Address</p>
                               <div class="row clearfix mb-1">
                                  <div class="col-md-6">
                                    <div class="form-group form-group-default required">
                                      <label>Addresss Line 1</label>
                                      <input type="text" class="form-control client_info" id="bill-firstName" name="billing_address_1" placeholder="Addresss Line 1" value="<?php echo ($customer->address)?$customer->address:old('billing_address_1')?>" >
                                         @error('billing_address_1') <div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group form-group-default">
                                      <label>Addresss Line 2</label>
                                      <input type="text" class="form-control" id="bill-lastName" name="billing_address_2" placeholder="Addresss Line 2" value="{{ old('billing_address_2') }}">
                                      @error('billing_address_2') <div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                </div>
                                <div class="row clearfix mb-1">
                                  <div class="col-md-4">
                                    <div class="form-group form-group-default required">
                                      <label>City</label>
                                      <input type="text" class="form-control client_info" id="bill-city" name="billing_city" value="<?php echo ($customer->city)?$customer->city:old('billing_city')?>"  placeholder="City" >
                                      @error('billing_city') <div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-group form-group-default">
                                      <label>State/Province/Region</label>
                                      <input type="text" class="form-control " id="bill-state" name="billing_state" value="<?php echo ($customer->Province_State)?$customer->Province_State:old('billing_state')?>"  placeholder="State">
                                       @error('billing_state') <div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-group form-group-default required">
                                      <label>Postal Code</label>
                                      <input type="text" class="form-control client_info" id="bill-postal" name="billing_postal_code"  placeholder="postal" value="<?php echo ($customer->zip)?$customer->zip:old('billing_postal_code')?>">
                                       @error('billing_postal_code') <div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                </div>
                            
                              <script type="text/javascript">
                                function sameBilling()
                                {
                                    if ($('#defaultCheck').is(':checked')) {
                                       $('#shipp-firstName').val($('#bill-firstName').val());
                                       $('#shipp-lastName').val($('#bill-lastName').val());
                                       $('#shipp-city').val($('#bill-city').val());
                                       $('#shipp-state').val($('#bill-state').val());
                                       $('#shipp-postal').val($('#bill-postal').val());
                                       $('#shipp-phoneNumber').val($('#bill-phoneNumber').val());
                                       $('#shipp-email').val($('#bill-email').val());
                                       
                                    } else {
                                      $('#shipp-firstName,#shipp-lastName,#shipp-city,#shipp-state,#shipp-postal,#shipp-phoneNumber,#shipp-email').val('');
                                    }

                                  }


                                  //  function nextPage()
                                  // {
                                 
                                  //     var companyName = $("#companyName").val();

                                  //     if (!companyName) {
                                  //       $(".form-group").addClass("has-danger");
                                  //       alert("Field is blank. Submit will be prevented.");
                                  //       $('#companyName').validationEngine({ focusFirstField: false });

                                  //       return false; // no submission
                                  //     }

                                  //     alert("Field is filled. The form will submit.");
                                  //     return true; // form submits
                                  //   }

                              </script>
                              <div class="serv-check justify-content-between d-inline-flex w-100">
                                <p class="font-montserrat bold fs-16 bold mt-3 mb-3">Shipping Address</p>
                                <div class="form-check primary mt-1">
                                  <input type="checkbox" onclick="sameBilling()" id="defaultCheck" checked>
                                  <label for="defaultCheck" class="bold">
                                    Same as Billing
                                  </label>
                                </div>
                              </div>
                                <div class="row clearfix mb-1">
                                  <div class="col-md-6">
                                    <div class="form-group form-group-default required">
                                      <label>Addresss Line 1</label>
                                      <input type="text" class="form-control client_info" id="shipp-firstName" name="shipping_address_1" placeholder="Addresss Line 1" value="{{ old('shipping_address_1') }}">
                                     @error('shipping_address_1')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="form-group form-group-default">
                                      <label>Addresss Line 2</label>
                                      <input type="text" class="form-control" id="shipp-lastName" name="shipping_address_2" placeholder="Addresss Line 2" value="{{ old('shipping_address_2') }}">
                                      @error('shipping_address_2')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                </div>
                                <div class="row clearfix mb-1">
                                  <div class="col-md-4">
                                    <div class="form-group form-group-default required">
                                      <label>City</label>
                                      <input type="text" class="form-control client_info" id="shipp-city"  name="shipping_city" placeholder="City" value="{{ old('shipping_city') }}">
                                    @error('shipping_city')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-group form-group-default">
                                      <label>State/Province/Region</label>
                                      <input type="text" class="form-control" id="shipp-state" name="shipping_state" placeholder="State" value="{{ old('shipping_state') }}">
                                     @error('shipping_state')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                  <div class="col-md-4">
                                    <div class="form-group form-group-default required">
                                      <label>Postal Code</label>
                                      <input type="text" class="form-control client_info" id="shipp-postal" name="shipping_postal_code" placeholder="Postal Code" value="{{ old('shipping_postal_code') }}">
                                     @error('shipping_postal_code')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                  </div>
                                </div>
                              <div class="row clearfix mb-5">
                                <div class="col-md-6">
                                  <div class="form-group form-group-default required">
                                    <label>Phone</label>
                                    <input type="text" class="form-control client_info" id="shipp-phoneNumber" name="shipping_phone" value="{{ old('shipping_phone') }}" placeholder="(999)-999-9999">
                                   @error('shipping_phone')<div class="text-danger">{{ $message }}</div> @enderror
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <div class="form-group form-group-default">
                                    <label>Email</label>
                                    <input type="email" class="form-control" id="shipp-email" name="shipping_email" placeholder="Email" value="{{ old('shipping_email') }}">
                                   @error('shipping_email')<div class="text-danger">{{ $message }}</div> @enderror
                                  </div>
                                </div>
                              </div>
                            </div>
                            </div>
                            <div class="order-div row-same-height">
                              <div class="pl-4 pr-4 row-same-height">
                              <div class="row sm-p-0">
                                <div class="main-title mt-4 ml-1">
                                  <h3 class="font-montserrat bold fs-16 bold all-caps no-margin">Order info</h3>
                                </div>
                              </div>
                              <div class="row mb-3 sm-p-0 mt-4"> 
                                <div class="col-md-6 mb-2">
                                  <h5 class="all-caps fs-14 mt-1 mb-1">Service Date</h5>
                                  <div class="form-group form-group-default input-group col-md-10">
                                    <div class="form-input-group">
                                      <label>Pick Up Date</label>
                                      <input type="text" class="form-control" placeholder="Pick Up Date" vname="pick_up_date" value="{{date('m/d/Y', strtotime($order->booking_date))}}"  id="datepicker-component2" disabled>
                                       @error('pick_up_date')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                    <div class="input-group-append ">
                                      <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-6">
                                  <h5 class="all-caps fs-14 mt-1 mb-1">Hours of operations</h5>
                                  <div class="row">
                                    <div class="col-md-6 mb-2">
                                     <div class="form-group form-group-default input-group col-md-12 time-group">
                                        <div class="form-input-group">
                                          <label>From</label>
                                          <div id="selector">
                                            <select class="form-control input-lg" id="operation_from" name="operation_from">
                                              <option>7.00AM</option>
                                              <option selected="selected">8.00AM</option>
                                              <option>9.00AM</option>
                                              <option>10.00AM</option>
                                              <option>11.00AM</option>
                                              <option>12.00PM</option>
                                              <option>1.00PM</option>
                                              <option>2.00PM</option>
                                              <option>3.00PM</option>
                                              <option>4.00PM</option>
                                              <option>5.00PM</option>
                                              <option>6.00PM</option>
                                              <option>7.00PM</option>
                                           </select>
                                            <i class="icon-clock1"></i>
                                           </div>
                                         </div>
                                      </div>
                                    </div>  
                                    <div class="col-md-6 mb-2">
                                      <div class="form-group form-group-default input-group col-md-12 time-group">
                                        <div class="form-input-group">
                                          <label>To</label>
                                          <div id="selector">
                                            <select class="form-control input-lg" id="operation_to" name="operation_to">
                                              <option>7.00AM</option>
                                              <option>8.00AM</option>
                                              <option>9.00AM</option>
                                              <option>10.00AM</option>
                                              <option>11.00AM</option>
                                              <option>12.00PM</option>
                                              <option>1.00PM</option>
                                              <option>2.00PM</option>
                                              <option>3.00PM</option>
                                              <option>4.00PM</option>
                                              <option selected="selected">5.00PM</option>
                                              <option>6.00PM</option>
                                              <option>7.00PM</option>
                                           </select>
                                            <i class="icon-clock1"></i>
                                           </div>
                                        </div>
                                      </div>
                                    </div>  
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                               <div class="col-lg-12 col-sm-12">
                                  <div class="row sm-p-0">
                                   <div class="table-responsive table-orderinfo">
                                      <table class="table borderless no-margin">
                                        <thead>
                                          <tr>
                                            <th class="fs-14 font-montserrat text-center bold">QTY</th>
                                            <th class="fs-14 font-montserrat text-center bold">Item</th>
                                            <th class="fs-14 font-montserrat text-center bold">Rate</th>
                                            <th class="fs-14 font-montserrat text-left bold" width="20%">Total</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <?php $sub_total=0;?>
                                          @foreach($order_details as $item)
                                          <tr>
                                            <td class="text-center"><?php echo $item->quantity?></td>
                                            <td class="text-center"><?php echo $item->title?></td>
                                            <td class="text-center">$<?php echo number_format($item->cost/$item->quantity,2,'.', '') ?></td>
                                            <td class="text-left">$<?php echo number_format($item->cost,2,'.', '')?></td>
                                          </tr>
                                            <?php $sub_total+=$item->cost; ?>
                                          @endforeach
                                          
                                          <tr>
                                            <td class="text-right" colspan="3">Sub Total</td>
                                            <td class="text-left bold">$<?php echo number_format((float)$sub_total,2,'.', '');?></td>
                                          </tr>
                                          <tr>
                                            <td class="text-center" colspan="2"></td>
                                            <td class="text-right">HST(13%)</td>
                                            <?php $hst = $sub_total*0.13;?>
                                            <td class="text-left">$<?php echo number_format((float)$hst,2,'.','');?></td>
                                          </tr>
                                          <tr>
                                            <td class="text-center" colspan="3">
                                              <div class="popdiv text-right">
                                                <img class="makeitcounticon" src="/home_assets/images/form-wizard/ribon.jpg"> Make It Count <a id="popover-div"  target="_blank" rel="popover" title="Make It Count"><i class="icon-info1 fs-16 bold color-danger"></i></a> 
                                              </div>
                                            </td>
                                            <td class="text-left">
                                              <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text bold">$</span>
                                                </div>
                                                <input type="number" min="0" step="0.01" value="0.75" id="makeitcount" class="form-control">
                                            </div>
                                            </td>
                                          </tr>
                                          <tr>
                                            <td class="text-right bold" colspan="3">
                                              Estimated Grand Total
                                            </td>
                                            <td class="text-left font-montserrat demo-fs-23 bold fs-sm-18">$<?php echo number_format((float)$sub_total+$hst,2,'.','');?></td>
                                          </tr>
                                        </tbody>
                                     </table>
                                    </div>
                                    <p class="fs-14 mt-3"><?php echo $client_information;?></p>
                                    </div> 
                                   </div>  
                              </div>

                            </div>
                          </div>
                           
                    

                          </div>
                        </div>
                    
                        <div class="tab-pane padding-20 sm-no-padding" id="tab2">  
                          <div class="row row-same-height">
                           <div class="col-md-12">
                               <h3 class="font-montserrat">Terms and Conditions</h3>
                                <?php echo $terms_and_conditions;?>
                             <div class="row">
                              <div class="col-12 mt-3">
                                <div class="form-check primary m-t-0 ml-2 text-right">
                                  <input type="checkbox" value="1" id="checkbox-agree" name="terms_accepted">
                                  <label for="checkbox-agree" class="fs-16 bold font-montserrat">The undersigned hereby agrees to this agreement, on behalf of the
                                    Client.
                                  </label>
                                   @error('terms_accepted')<div class="text-danger">{{ $message }}</div> @enderror
                                  <div id="checkbox-agree-valid"></div>
                                </div>
                              </div>
                             </div>
                            </div>
                          </div>
                        </div>
                        <div class="tab-pane slide-left padding-20 sm-no-padding" id="tab3">
                        <div class="row column-seperation">
                        <div class="col-lg-12">
                           <div class="credit-derails">
                              <div class="padding-30 sm-padding-5">
                                <!-- <form role="form"> -->
                                  <div class="bg-contrast-lower padding-30 b-rad-lg credit-card">
                                    <h3 class="font-montserrat pull-left no-margin p-sm-b-3">Credit Card</h3>
                                    <ul class="list-unstyled pull-right list-inline sm-pull-left sm-p-0">
                                      <li>
                                        <a href="#">
                                          <img width="51" height="32" data-src-retina="/home_assets/images/form-wizard/visa2x.png" data-src="/home_assets/images/form-wizard/visa.png" class="brand" alt="logo" src="/home_assets/images/form-wizard/visa.png">
                                        </a>
                                      </li>
                                      <li>
                                        <a href="#" class="hint-text">
                                          <img width="51" height="32" data-src-retina="/home_assets/images/form-wizard/mastercard2x.png" data-src="/home_assets/images/form-wizard/mastercard.png" class="brand" alt="logo" src="/home_assets/images/form-wizard/mastercard.png">
                                        </a>
                                      </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <select class="form-control input-lg" id="sel_card">
                                              <option>No Card Selected</option>
                                              @for($i = 0; $i < count($card_details); $i++)
                                                <option value="{{$i}}">CARD# {{$card_details[$i]->card_number}}</option>
                                              @endfor
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group form-group-default required m-t-25">
                                      <label>Card holder's name</label>
                                      <input type="text" class="form-control card_info" id="card_holder_name"  name="credit_card_name" placeholder="Name on the card" value="{{ old('credit_card_name') }}">
                                       @error('credit_card_name')<div class="text-danger">{{ $message }}</div> @enderror
                                      <div id="card-name-valid"></div>
                                    </div>
                                    <div class="form-group form-group-default required">
                                      <label>Card number</label>
                                      
                                      <input type="text" class="form-control card-no card_info" id="cardNumber" name="credit_card_number" placeholder="Enter credit card number"  id="cr_no" minlength="16" maxlength="19" value="{{ old('credit_card_number') }}">
                        @error('credit_card_number')<div class="text-danger">{{ $message }}</div> @enderror
                                    </div>
                                      <div class="card-date mb-3 w-100">
                                         <div class="row no-margin">
                                          <div class="col-md-3 no-padding-sm">
                                            <label class="fs-14"><b>Expiration</b></label>
                                            <div class="form-group form-group-default input-group time-group">
                                              <div class="form-input-group">
                                                <label class="fade">Month</label>
                                                <div id="selector">
                                                  <select class="form-control input-lg card_info" id="exp_month"  name="credit_card_expire_month">
                                                    <option value="1">Jan (01)</option>
                                                    <option value="2">Feb (02)</option>
                                                    <option value="3">Mar (03)</option>
                                                    <option value="4">Apr (04)</option>
                                                    <option value="5">May (05)</option>
                                                    <option value="6">Jun (06)</option>
                                                    <option value="7">Jul (07)</option>
                                                    <option value="8">Aug (08)</option>
                                                    <option value="9">Sep (09)</option>
                                                    <option value="10">Oct (10)</option>
                                                    <option value="11">Nov (11)</option>
                                                    <option value="12">Dec (12)</option>
                                                 </select>
                                                 <i class="fa fa-angle-down" aria-hidden="true"></i>
                                                  @error('credit_card_expire_month')<div class="text-danger">{{ $message }}</div> @enderror
                                                 </div>
                                               </div>
                                            </div>
                                          </div>
                                          <div class="col-md-3 no-padding-sm">
                                            <label class="d-none-sm fs-14"></label>
                                            <div class="form-group form-group-default input-group time-group mt-year">
                                              <div class="form-input-group">
                                                <label class="fade">Year</label>
                                                <div id="selector">
                                                  <select class="form-control input-lg card_info" id="exp_year" name="credit_card_expire_year">
                                                    <option selected="selected">2022</option>
                                                    <option>2023</option>
                                                    <option>2024</option>
                                                    <option>2025</option>
                                                    <option>2026</option>
                                                    <option>2027</option>
                                                    <option>2028</option>
                                                    <option>2029</option>
                                                    <option>2030</option>
                                                 </select>
                                                 <i class="fa fa-angle-down" aria-hidden="true"></i>
                                                  @error('credit_card_expire_year')<div class="text-danger">{{ $message }}</div> @enderror
                                                 </div>
                                               </div>
                                            </div>
                                          </div>
                                          <div class="col-md-2 p-0">
                                            <label class="fs-14 m-25 sm-ml-0"><b>CCV Code</b></label>
                                              <div class="form-group required">
                                                <input class="form-control mh-55 m-25 sm-ml-0 card_info" type="password" id="ccv" name="credit_card_ccv" placeholder="000" size="1" minlength="3" maxlength="3" required>
                                              </div>
                                          </div>
                                        </div>
                                       </div>
                                    </div>
                                    <input name="csrf" id="csrf" value="{{ csrf_token() }}" hidden>
                             
                              </div>
                              <div class="row">
                                <div class="sign-pad-iframe">
                                  <div class="iframe-container ml-5 ml-m-3">
                                     <label>Signature:</label>
                                    <div class="border p-2 mb-3" style="width: 100%; max-width: 250px; ">
                                        <canvas id="signature-pad" class="border w-100" height="200" width="200" style="width: 100%;"></canvas>
                                    </div>
                                    <button type="button" class="btn btn-danger" id="clear">Clear</button>
                                    <input type="hidden" name="signature" id="signature-data">
                                     @error('signature')<div class="text-danger">{{ $message }}</div> @enderror
                                  </div>
                                </div>
                                <div class="sign-note">
                                  <p class="fs-14"><?php echo $credit_card_infromation;?></p>
                            </div> 
                          </div>
                      </div>
                   </div>
                </div>
            </div>

    
<script>
$(document).ready(function () {
    $(".next").click(function () {
        $(this).closest(".step").addClass("d-none").next().removeClass("d-none");
    });

    $(".prev").click(function () {
        $(this).closest(".step").addClass("d-none").prev().removeClass("d-none");
    });
});
</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var canvas = document.getElementById("signature-pad");

        // Ensure the canvas exists
        if (!canvas) {
            console.error("Signature pad canvas not found!");
            return;
        }

        var signaturePad = new SignaturePad(canvas, {
            backgroundColor: 'rgba(255, 255, 255, 1)', // White background
            penColor: "black" // Pen color
        });

    function resizeCanvas() {
        var parentWidth = canvas.parentElement.clientWidth; // Get parent div width
        if (parentWidth === 0) parentWidth = 250; // Set default if parent is hidden
        
        canvas.width = parentWidth;
        canvas.height = 150;
    }

    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

        // Clear Signature
        document.getElementById("clear").addEventListener("click", function () {
            signaturePad.clear();
        });

        // Handle form submission
        document.querySelector("form").addEventListener("submit", function (e) {
            if (signaturePad.isEmpty()) {
                alert("Please provide a signature.");
                e.preventDefault();
            } else {
                document.getElementById("signature-data").value = signaturePad.toDataURL("image/png");
            }
        });
    });
</script>
<script>
        $(document).ready(function () {
            $("#phone").on("input", function () {
                var phone = $(this).val();
                
                // Allow only numbers and format the input
                phone = phone.replace(/\D/g, ''); // Remove non-numeric characters

                if (phone.length > 0) {
                    phone = phone.substring(0, 10); // Limit to 10 digits
                    phone = phone.replace(/^(\d{3})(\d{0,3})(\d{0,4})$/, function (match, p1, p2, p3) {
                        return "(" + p1 + (p2 ? ")-" + p2 : "") + (p3 ? "-" + p3 : "");
                    });
                }

                $(this).val(phone);
            });

            $("#myForm").submit(function (e) {
                var phone = $("#phone").val();
                var phonePattern = /^\(\d{3}\)-\d{3}-\d{4}$/; // Regex for (999)-999-9999 format

                if (!phonePattern.test(phone)) {
                    e.preventDefault(); // Stop form submission
                    $("#phone-error").text("Please enter a valid phone number in (999)-999-9999 format.");
                } else {
                    $("#phone-error").text(""); // Clear error message
                }
            });
        });
    </script>
      <script>
        $(document).ready(function () {
            // Luhn Algorithm for credit card validation
            function luhnCheck(cardNumber) {
                let sum = 0;
                let alternate = false;
                cardNumber = cardNumber.replace(/\D/g, ''); // Remove non-numeric characters
                
                for (let i = cardNumber.length - 1; i >= 0; i--) {
                    let num = parseInt(cardNumber[i], 10);
                    
                    if (alternate) {
                        num *= 2;
                        if (num > 9) num -= 9;
                    }
                    
                    sum += num;
                    alternate = !alternate;
                }
                
                return (sum % 10 === 0);
            }

            // Validate card format
            function validateCardNumber(cardNumber) {
                cardNumber = cardNumber.replace(/\D/g, '');

                const cardPattern = /^(?:4[0-9]{12}(?:[0-9]{3})?|       # Visa
                                      5[1-5][0-9]{14}|                  # MasterCard
                                      3[47][0-9]{13}|                   # American Express
                                      6(?:011|5[0-9]{2})[0-9]{12}|      # Discover
                                      3(?:0[0-5]|[68][0-9])[0-9]{11}|   # Diners Club
                                      (?:2131|1800|35\d{3})\d{11})$/x;  # JCB

                return cardPattern.test(cardNumber) && luhnCheck(cardNumber);  
            }

            // Allow only numbers while typing
            $("#cardNumber").on("input", function () {
                $(this).val($(this).val().replace(/\D/g, '')); 
            });

            // Validate on Enter key press
            $("#cardNumber").on("keypress", function (e) {
                if (e.which === 13) { // Check if Enter key is pressed
                    e.preventDefault(); // Prevent form submission

                    let cardNumber = $(this).val();
                    if (!validateCardNumber(cardNumber)) {
                        $("#card-error").text("Invalid credit card number.");
                    } else {
                        $("#card-error").text(""); // Clear error message
                    }
                }
            });

            // Validate on form submission (optional)
            $("#wizard-form").submit(function (e) {
                let cardNumber = $("#cardNumber").val();
                if (!validateCardNumber(cardNumber)) {
                    e.preventDefault();
                    $("#card-error").text("Invalid credit card number.");
                }
            });
        });
    </script>

                         <!--div class="tab-pane slide-left padding-20 sm-no-padding" id="tab4">
                          <h1>Thank you.</h1>
                          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus et bibendum diam. Nunc facilisis nibh vitae sagittis luctus. Suspendisse aliquet purus nec vestibulum molestie. Maecenas sollicitudin efficitur ornare. Maecenas odio leo, lobortis eget libero id, dictum tincidunt libero.</p>
                         </div-->
                        <div class="padding-20 sm-padding-5 sm-m-b-20 sm-m-t-20 bg-white clearfix">
                          <ul class="pager wizard no-style">
                            <li class="next">
                              <button aria-label="" class="btn btn-primary btn-cons from-left pull-right" onclick="nextPage();" id="form-next" type="button">
                                <span><a href="#top" >Next</a></span>
                              </button>
                            </li>
                            <li class="next finish hidden">
                           <!-- <form id="myForm" action="{{route('home.complete_sa')}}" method="POST">
                              {{ csrf_field() }}
                                <input name="company_name" id="form_companyName" hidden>
                                <input name="contact_name" id="form_contactName" hidden>
                                <input name="phone_number" id="form_phone" hidden>
                                <input name="billing_address_1" id="form_bill-firstName" hidden>
                                <input name="billing_address_2" id="form_bill-lastName" hidden>
                                <input name="billing_city" id="form_bill-city" hidden>
                                <input name="billing_state" id="form_bill-state" hidden>
                                <input name="billing_postal_code" id="form_bill-postal" hidden>
                                <input name="email" id="form_email" hidden>
                                <input name="billing_phone" id="form_bill-phoneNumber" hidden>
                                <input name="billing_email" id="form_bill-email" hidden>
                                <input name="shipp_address_1" id="form_shipp-firstName" hidden>
                                <input name="shipp_address_2" id="form_shipp-lastName" hidden>
                                <input name="shipping_city" id="form_shipp-city" hidden>
                                <input name="shipping_state" id="form_shipp-state" hidden>
                                <input name="shipping_postal_code" id="form_shipp-postal" hidden>
                                <input name="shippig_phone" id="form_shipp-phoneNumber" hidden>
                                <input name="shipping_email" id="form_shipp-email" hidden>
                                <input name="operation_from" id="form_operation_from" hidden>
                                <input name="operation_to" id="form_operation_to" hidden>
                                <input name="make_it_count" id="form_makeitcount" hidden>
                                <input name="terms_accepted" id="form_terms_accepted" hidden>
                                <input name="credit_card_name" id="form_card_holder_name" hidden>
                                <input name="credit_card_number" id="form_card_number" hidden>
                                <input name="credit_card_expire_month" id="form_exp_month" hidden>
                                <input name="credit_card_expire_year" id="form_exp_year" hidden>
                                <input name="credit_card_ccv" id="form_ccv" hidden>
                                <input name="order_id" id="order_id" value="{{ $order->id }}" hidden>
                                <button aria-label="" id="confirm_form" class="btn btn-primary btn-cons from-left pull-right" type="submit">
                                  <span>Confirm</span>
                                </button>
                              </form> -->
                              <input name="save_flag" id="save_flag" hidden>
                              <input name="csrf" id="csrf" value="{{ csrf_token() }}" hidden>
                            </li>
                           <li class="submit finish">
                            <button aria-label="" class="btn btn-success btn-cons from-left pull-right" type="submit">
                                <span><a href="#top">Submit</a></span>
                              </button>
                          </li>

                            <li class="previous">
                              <button aria-label="" class="btn btn-default btn-cons from-left pull-right" type="button">
                                <span><a href="#top">Previous</a></span>
                              </button>
                            </li>


                          </ul>
                        </div>
                      </div>
                    </div>
                      </form>
  
          </div>
          <!-- END CONTAINER FLUID -->
      </div>    
      <!-- END Page Content -->

      <!-- START COPYRIGHT -->
      <!-- START CONTAINER FLUID -->
      <div class="container-fluid  container-fixed-lg footer">
        <div class="copyright sm-text-center text-center">
          <p class="small-text text-black m-0">
            Copyright © <?php echo date('Y'); ?> <b>StartShredding Inc.</b> <br/> All Rights Reserved.
          </p>
          <div class="clearfix"></div>
        </div>
      </div>
   </div>
    <!-- END PAGE CONTENT WRAPPER -->
  </div>
  <!-- END PAGE CONTAINER -->

  <!-- BEGIN VENDOR JS -->
<script src="{{ URL::asset('new_assets/assets/plugins/pace/pace.min.js')}}" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/modernizr.custom.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-ui/jquery-ui.min.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/popper/umd/popper.min.js')}}" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" type="text/javascript">
</script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery/jquery-easy.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-unveil/jquery.unveil.min.js')}}" type="text/javascript">
</script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-ios-list/jquery.ioslist.min.js')}}" type="text/javascript">
</script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-actual/jquery.actual.min.js')}}"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-scrollbar/jquery.scrollbar.min.js')}}"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js" type="text/javascript" src=""></script>
<script src="{{ URL::asset('new_assets/assets/plugins/classie/classie.js')}}" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/switchery/0.8.2/switchery.min.js" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/lib/d3.v3.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/nv.d3.min.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/src/utils.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/src/tooltip.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/src/interactiveLayer.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/src/models/axis.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/src/models/line.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/nvd3/src/models/lineWithFocusChart.js')}}" type="text/javascript">
</script>
<script src="{{ URL::asset('new_assets/assets/plugins/mapplic/js/hammer.min.js')}}"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/mapplic/js/jquery.mousewheel.js')}}"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/mapplic/js/mapplic.js')}}"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/rickshaw/rickshaw.min.js')}}"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-metrojs/MetroJs.min.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-inputmask/jquery.inputmask.min.js')}}" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/js/all.min.js" type="text/javascript"></script> 


<script src="{{ URL::asset('new_assets/assets/plugins/jquery-sparkline/jquery.sparkline.min.js')}}"
        type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/skycons/skycons.js')}}" type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js')}}"
        type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/jquery-datatable/media/js/jquery.dataTables.min.js')}}"   type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables-tabletools/2.1.5/js/TableTools.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/datatables-bootstrap@0.0.1/js/dataTables.bootstrap.min.js" type="text/javascript"></script>
<script
        src="{{ URL::asset('new_assets/assets/plugins/jquery-datatable/extensions/Bootstrap/jquery-datatable-bootstrap.js')}}"
        type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables-responsive/3.0.3/dataTables.responsive.min.js"  type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/plugins/bootstrap-form-wizard/js/jquery.bootstrap.wizard.min.js')}}"
        type="text/javascript"></script>
<script src="{{ URL::asset('new_assets/assets/js/form_wizard.js')}}"
        type="text/javascript"></script>      
<script src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>
            
<!-- END VENDOR JS -->
<!-- BEGIN CORE TEMPLATE JS -->
<!-- BEGIN CORE TEMPLATE JS -->
<script src="{{ URL::asset('new_assets/pages/js/pages.js')}}"></script>
<!-- END CORE TEMPLATE JS -->
<!-- BEGIN PAGE LEVEL JS -->
<!-- END PAGE LEVEL JS -->
<!-- END CORE TEMPLATE JS -->
<!-- BEGIN PAGE LEVEL JS -->
<!-- <script src="assets/js/dashboard.js" type="text/javascript"></script> -->
<script src="{{ URL::asset('new_assets/assets/js/scripts.js')}}" type="text/javascript"></script>
<script type="text/javascript">
    $('#phone').inputmask("(999) 999-9999");
    $('#bill-phoneNumber').inputmask("(999) 999-9999");
    $('#shipp-phoneNumber').inputmask("(999) 999-9999");
</script>
  <!-- END PAGE LEVEL JS -->

</body>

</html>